<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <header>
        <div class="nav">
            <div class="nav__menu-item">
                Каталог товарів
                <div class="nav__menu-item__sub-menu">
                    <div class="nav__menu-item__sub-menu__item">
                        Куртки
                        <div class="nav__menu-item__sub-menu__item__second">
                            <div class="nav__menu-item__sub-menu__item__second__item">Шкіра</div>
                            <div class="nav__menu-item__sub-menu__item__second__item">Замша</div>
                            <div class="nav__menu-item__sub-menu__item__second__item">Ветровки</div>
                            <div class="nav__menu-item__sub-menu__item__second__item">Джинсові</div>
                            <div class="nav__menu-item__sub-menu__item__second__item">Спортивні</div>
                        </div>
                    </div>
                    <div class="nav__menu-item__sub-menu__item">
                        Жилети
                        <div class="nav__menu-item__sub-menu__item__second">
                            <div class="nav__menu-item__sub-menu__item__second__item">22222</div>
                            <div class="nav__menu-item__sub-menu__item__second__item">Замша</div>
                            <div class="nav__menu-item__sub-menu__item__second__item">Ветровки</div>
                            <div class="nav__menu-item__sub-menu__item__second__item">Джинсові</div>
                            <div class="nav__menu-item__sub-menu__item__second__item">Спортивні</div>
                        </div>
                    </div>
                    <div class="nav__menu-item__sub-menu__item">Штани
                        <div class="nav__menu-item__sub-menu__item__second">
                            <div class="nav__menu-item__sub-menu__item__second__item">3333</div>
                            <div class="nav__menu-item__sub-menu__item__second__item">Замша</div>
                            <div class="nav__menu-item__sub-menu__item__second__item">Ветровки</div>
                            <div class="nav__menu-item__sub-menu__item__second__item">Джинсові</div>
                            <div class="nav__menu-item__sub-menu__item__second__item">Спортивні</div>
                        </div>
                    </div>
                    <div class="nav__menu-item__sub-menu__item">Шорти
                        <div class="nav__menu-item__sub-menu__item__second">
                            <div class="nav__menu-item__sub-menu__item__second__item">4444</div>
                            <div class="nav__menu-item__sub-menu__item__second__item">Замша</div>
                            <div class="nav__menu-item__sub-menu__item__second__item">Ветровки</div>
                            <div class="nav__menu-item__sub-menu__item__second__item">Джинсові</div>
                            <div class="nav__menu-item__sub-menu__item__second__item">Спортивні</div>
                        </div>
                    </div>
                    <div class="nav__menu-item__sub-menu__item">Джинси
                        <div class="nav__menu-item__sub-menu__item__second">
                            <div class="nav__menu-item__sub-menu__item__second__item">Шкіра</div>
                            <div class="nav__menu-item__sub-menu__item__second__item">Замша</div>
                            <div class="nav__menu-item__sub-menu__item__second__item">Ветровки</div>
                            <div class="nav__menu-item__sub-menu__item__second__item">Джинсові</div>
                            <div class="nav__menu-item__sub-menu__item__second__item">Спортивні</div>
                        </div>
                    </div>
                    <div class="nav__menu-item__sub-menu__item">Костюми
                        <div class="nav__menu-item__sub-menu__item__second">
                            <div class="nav__menu-item__sub-menu__item__second__item">Шкіра</div>
                            <div class="nav__menu-item__sub-menu__item__second__item">Замша</div>
                            <div class="nav__menu-item__sub-menu__item__second__item">Ветровки</div>
                            <div class="nav__menu-item__sub-menu__item__second__item">Джинсові</div>
                            <div class="nav__menu-item__sub-menu__item__second__item">Спортивні</div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- <div class="nav__menu-item">
                Пункт-2
                <div class="nav__menu-item__sub-menu">
                    <div class="nav__menu-item__sub-menu__item">2-1</div>
                    <div class="nav__menu-item__sub-menu__item">2-2</div>
                    <div class="nav__menu-item__sub-menu__item">2-3</div>
                </div>
            </div>
            <div class="nav__menu-item">
                Пункт-3
                <div class="nav__menu-item__sub-menu">
                    <div class="nav__menu-item__sub-menu__item">3-1</div>
                    <div class="nav__menu-item__sub-menu__item">3-2</div>
                    <div class="nav__menu-item__sub-menu__item">3-3</div>
                </div>
            </div>
            <div class="nav__menu-item">
                Пункт-4
                <div class="nav__menu-item__sub-menu">
                    <div class="nav__menu-item__sub-menu__item">4-1</div>
                    <div class="nav__menu-item__sub-menu__item">4-2</div>
                    <div class="nav__menu-item__sub-menu__item">4-3</div>
                </div>
            </div> -->
        </div>
    </header>
    <!-- <section style="padding-bottom: 100%; background-color: darkgray;" class="rr"></section> -->

    <script>
        const navigat = document.querySelector(".nav");
        const header = document.querySelector("header");


        document.addEventListener("mouseover", (e) => {
            console.log(e.target)
            if (e.target.className == 'nav__menu-item') {
                let openMenu = e.target.querySelector(".nav__menu-item__sub-menu");
                // closeMenu();
                openMenu.style.display = 'block';
            }
            else if (e.target.className == 'nav__menu-item__sub-menu__item') {
                // event.stopPropagation()
                closeMenu2()
                let openMenu2 = e.target.querySelector(".nav__menu-item__sub-menu__item__second");
                openMenu2.style.display = 'block';
                // console.log('2')
            }
            else if (e.target.className !== 'nav__menu-item'
                && e.target.className !== 'nav__menu-item__sub-menu__item'
                && e.target.className !== 'nav__menu-item__sub-menu'
                && e.target.className !== 'nav__menu-item__sub-menu__item__second'
                && e.target.className !== 'nav__menu-item__sub-menu__item__second__item') {
                closeMenu();
                closeMenu2()
            }

        });


        function closeMenu() {
            let subMenuAll = document.getElementsByClassName("nav__menu-item__sub-menu");
            for (let i = 0; i < subMenuAll.length; i++) {
                subMenuAll[i].style.display = 'none';
            }
        }
        function closeMenu2() {
            let subMenuAll = document.getElementsByClassName("nav__menu-item__sub-menu__item__second");
            for (let i = 0; i < subMenuAll.length; i++) {
                subMenuAll[i].style.display = 'none';
            }
        }
    </script>
</body>
<style>
    * {
        box-sizing: border-box;
    }

    header {
        max-width: 1400px;
        /* border: 1px solid red; */
    }

    .nav {
        display: flex;
        border: 1px solid black;
    }

    .nav__menu-item {
        padding: 5px 10px;
        /* border: 1px solid red; */
        position: relative;
        cursor: pointer;

    }

    .nav__menu-item__sub-menu {
        position: absolute;
        display: none;
        width: 100%;
        top: 28px;
    }

    .nav__menu-item__sub-menu__item {
        border: 1px solid green;
        /* margin-bottom: 1px; */
        padding: 5px 0;
        cursor: pointer;
        /* position: relative; */
    }

    .nav__menu-item__sub-menu__item:last-child {
        margin-bottom: 0;
    }

    .nav__menu-item__sub-menu__item:hover {
        background-color: rgb(248, 179, 179);
    }

    .nav__menu-item__sub-menu__item__second {
        position: absolute;
        right: -127px;
        top: 0;
        width: 100%;
        display: none;
    }

    .nav__menu-item__sub-menu__item__second__item {
        margin-bottom: 1px;
        padding: 5px 0;
        border: 1px solid green;
    }

    .nav__menu-item__sub-menu__item__second__item:hover {
        background-color: rgb(247, 232, 232);
    }

    .nav__menu-item__sub-menu__item:nth-child(1)::after {
        content: "\2192";
        position: absolute;
        right: 10px;
        top: auto;
        bottom: auto;
    }
</style>

</html>